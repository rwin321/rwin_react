(this["webpackJsonpreact-rwin-1"]=this["webpackJsonpreact-rwin-1"]||[]).push([[3],{297:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(34),o=a(35),l=a(37),r=a(38),s=a(0),i=a.n(s),c=a(11),u=a(18),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(r.a)(s,t);var a=Object(l.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(c.a,{to:"/login"})}}]),s}(i.a.Component);return Object(u.b)(m)(t)}},298:function(e,t,a){e.exports={profileInfoBlock:"ProfileInfo_profileInfoBlock__gNs5q",mainPhoto:"ProfileInfo_mainPhoto__2kGge",contact:"ProfileInfo_contact__2d2rl",profileDescp:"ProfileInfo_profileDescp__28oxQ",inputFile:"ProfileInfo_inputFile__2orLt",profileStatus:"ProfileInfo_profileStatus__1AlUf",profileDataEditBtn:"ProfileInfo_profileDataEditBtn__1_Qsn"}},299:function(e,t,a){e.exports={profileStatus:"ProfileStatusWithHooks_profileStatus__3pQ-G"}},300:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__25v-1",posts:"MyPosts_posts__29tyG",addPostBtn:"MyPosts_addPostBtn__3T73O Post_deleteBtn__IPcGY"}},301:function(e,t,a){e.exports={item:"Post_item__9zG6y",likes:"Post_likes__37z5f",deleteBtn:"Post_deleteBtn__IPcGY"}},302:function(e,t,a){e.exports=a.p+"static/media/postLogo.22e0e6fa.jpg"},303:function(e,t,a){"use strict";a.r(t);var n=a(34),o=a(35),l=a(37),r=a(38),s=a(0),i=a.n(s),c=a(99),u=a(53),m=a(298),p=a.n(m),f=a(40),d=a(299),E=a.n(d),b=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],o=a[1],l=Object(s.useState)(e.status),r=Object(c.a)(l,2),u=r[0],m=r[1];Object(s.useEffect)((function(){m(e.status)}),[e.status]);return i.a.createElement("div",{className:E.a.profileStatus},!n&&i.a.createElement("div",null,i.a.createElement("b",null,"Status: ")," ",i.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"---------")),n&&i.a.createElement("div",null,i.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,value:u,onBlur:function(){o(!1),e.updateUserStatus(u)}})))},h=a(42),v=a.n(h),P=a(132),_=a(41),k=a(50),O=a.n(k),g=Object(P.a)({form:"edit-profileData"})((function(e){var t=e.profile,a=e.error,n=e.handleSubmit;return i.a.createElement("form",{onSubmit:n},i.a.createElement("div",null,i.a.createElement("button",{className:p.a.profileDataEditBtn},"save")),a&&i.a.createElement("div",{className:O.a.formSummaryError},a),i.a.createElement("b",null,"Full Name"),": ",Object(_.c)("Full name","fullName",[],_.a),i.a.createElement("div",null,i.a.createElement("b",null,"About me:")," ",Object(_.c)("About me","aboutMe",[],_.a)),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job:")," ",Object(_.c)("","lookingForAJob",[],_.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills"),": ",Object(_.c)("My professional skills","lookingForAJobDescription",[],_.b)),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e,className:p.a.contact}," ",Object(_.c)(e,"contacts."+e,[],_.a)," ")}))))})),j=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return i.a.createElement("div",{className:p.a.profileDescp},i.a.createElement("div",null," ",i.a.createElement("b",null,"Full Name"),":  ",t.fullName),i.a.createElement("div",null,i.a.createElement("b",null,"About me:"),"  ",t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"yes":"already working"),t.lookingForAJob&&i.a.createElement("div",null," ",i.a.createElement("b",null,"skills:"),"  ",t.lookingForAJobDescription),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return i.a.createElement(S,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),i.a.createElement("div",null,a&&i.a.createElement("button",{className:p.a.profileDataEditBtn,onClick:n}," edit ")))},S=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",{className:p.a.contact},i.a.createElement("b",null,t),": ",a," ")},y=function(e){var t=e.profile,a=Object(u.a)(e,["profile"]),n=Object(s.useState)(!1),o=Object(c.a)(n,2),l=o[0],r=o[1];if(!t)return i.a.createElement(f.a,null);return i.a.createElement("div",{className:p.a.profileInfoBlock},i.a.createElement("div",null,i.a.createElement("img",{src:t.photos.large||v.a,className:p.a.mainPhoto})),a.isOwner&&i.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&a.savePhoto(e.target.files[0])},className:p.a.inputFile}),i.a.createElement("div",{className:p.a.profileStatus},i.a.createElement(b,{status:a.status,updateUserStatus:a.updateUserStatus})),l?i.a.createElement(g,{initialValues:t,profile:t,onSubmit:function(e){a.saveProfile(e).then((function(){r(!1)}))}}):i.a.createElement(j,{profile:t,isOwner:a.isOwner,goToEditMode:function(){r(!0)}}))},N=a(98),I=a(300),B=a.n(I),U=a(301),A=a.n(U),D=a(302),w=a.n(D),C=function(e){return i.a.createElement("div",{className:A.a.item},i.a.createElement("img",{src:w.a}),i.a.createElement("span",null,"  ",e.message," "),i.a.createElement("div",{className:A.a.likes},i.a.createElement("span",null,"likes:")," ",e.likeCount),i.a.createElement("button",{className:A.a.deleteBtn,onClick:function(){e.deletePost(e.post.id)}},"delete"))},F=a(92),M=a(70),x=Object(M.a)(10),T=Object(P.a)({form:"addPost"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(F.a,{placeholder:"postText",validate:[M.b,x],name:"postText",component:_.b})),i.a.createElement("div",null,i.a.createElement("button",{className:B.a.addPostBtn},"add post")))})),J=i.a.memo((function(e){var t=e.posts.map((function(t){return i.a.createElement(C,{deletePost:e.deletePost,key:t.id,message:t.message,likeCount:t.likesCount,post:t})}));return i.a.createElement("div",{className:B.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement("div",null,i.a.createElement(T,{onSubmit:function(t){e.addPost(t.postText)}}),i.a.createElement("div",{className:B.a.posts},t)))})),G=a(18),z=Object(G.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:N.a,deletePost:N.c})(J),L=function(e){return i.a.createElement("div",null,i.a.createElement(y,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,saveProfile:e.saveProfile}),i.a.createElement(z,null))},Q=a(11),V=a(297),Y=a(8),q=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(L,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(i.a.Component);t.default=Object(Y.d)(Object(G.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.d,getUserStatus:N.e,updateUserStatus:N.h,savePhoto:N.f,saveProfile:N.g}),Q.g,V.a)(q)}}]);
//# sourceMappingURL=3.f636acb0.chunk.js.map